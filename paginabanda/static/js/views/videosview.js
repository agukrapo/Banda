define("text!template/videoiframe.html",[],function(){return'<div class="modal-dialog modal-lg">\n  <div class="modal-content">\n\n    <%if (video.get(\'nombre\').length > 0) {%>\n    <div class="modal-header">\n      <h2><%=video.get(\'nombre\')%></h2>\n    </div>\n    <% } %>\n    \n    <div class="modal-body">\n      <iframe width="853" height="480" src="<%=video.get(\'embed\')%>" frameborder="0" allowfullscreen></iframe>\n    </div>\n    \n    <%if (video.get(\'descripcion\').length > 0) {%>\n    <div class="modal-footer">\n      <p><%=video.get(\'descripcion\')%></p>\n    </div>\n    <% } %>\n\n  </div>\n</div>\n\n'}),define("views/videoiframe",["jquery","underscore","backbone","text!template/videoiframe.html"],function(e,i,n,t){return VideoIframe=n.View.extend({el:"#modal-video",template:i.template(t),render:function(){this.$el.html(this.template({video:this.model,_:i})),this.$el.modal()}})}),define("models/video",["models/basemodel"],function(e){return e.extend({parse:function(e){var i="",n=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,t=e.url.match(n);return t&&(i=t[7]),e.thumbnail="//img.youtube.com/vi/"+i+"/0.jpg",e.embed="//www.youtube.com/embed/"+i,e}})}),define("collections/videos",["models/video","collections/pagedcollection"],function(e,i){var n=i.extend({model:e,urlPart:"/banda/videos/"});return new n}),define("text!template/videos.html",[],function(){return'\n<div class="container">\n  <%_.forEach(data.models, function (video, i) {%>\n\n  <div class="third">\n    <a id="<%=i%>" class="video thumbnail" href="#"> \n      <img src="/static/img/img_load.gif" class="img-responsive" alt="<%=video.get(\'nombre\')%>" data-echo="<%=video.get(\'thumbnail\')%>">\n    </a>\n  </div>\n\n  <%})%> \n\n  <div id="modal-video" class="modal" tabindex="-1"></div>\n</div>\n\n<%if (data.hasPrevious() || data.hasNext()) {%>\n<footer class="container">\n\n  <%if (data.hasPrevious()) {%>\n  <button id="previous-videos-page" class="pull-left">Videos M&aacute;s Nuevos</button>\n  <% } %>\n  <%if (data.hasNext()) {%>\n  <button id="next-videos-page" class="pull-right">Videos M&aacute;s Viejos</button>\n  <% } %>\n\n</footer>\n<% } %>'}),define("views/videosview",["underscore","echo","bootstrapmodal","useragent","views/collectionview","views/videoiframe","collections/videos","text!template/videos.html"],function(e,i,n,t,o,d,a,l){var s=o.extend({data:a,template:e.template(l),events:{"click .video":"openModal","click #next-videos-page":"nextPage","click #previous-videos-page":"previousPage"},afterRender:function(){i.init()},openModal:function(e){var i=this.data.models[e.currentTarget.id];if(t.isMobile())window.location=i.get("url");else{var n=new d;n.model=i,n.render()}e.preventDefault()}});return new s});