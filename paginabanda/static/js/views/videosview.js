define("text!template/videoiframe.html",[],function(){return'<div class="modal-dialog modal-lg">\n  <div class="modal-content">\n\n    <%if (video.get(\'nombre\').length > 0) {%>\n    <div class="modal-header">\n      <h2><%=video.get(\'nombre\')%></h2>\n    </div>\n    <% } %>\n    \n    <div class="modal-body">\n      <iframe width="853" height="480" src="<%=video.get(\'embed\')%>" frameborder="0" allowfullscreen></iframe>\n    </div>\n    \n    <%if (video.get(\'descripcion\').length > 0) {%>\n    <div class="modal-footer">\n      <p><%=video.get(\'descripcion\')%></p>\n    </div>\n    <% } %>\n\n  </div>\n</div>\n\n'}),define("views/videoiframe",["jquery","underscore","backbone","text!template/videoiframe.html"],function(e,n,i,t){return VideoIframe=i.View.extend({el:"#modal-video",template:n.template(t),render:function(){this.$el.html(this.template({video:this.model,_:n})),this.$el.modal()}})}),define("models/video",["models/basemodel"],function(e){return e.extend({parse:function(e){var n="",i=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,t=e.url.match(i);return t&&(n=t[7]),e.thumbnail="//img.youtube.com/vi/"+n+"/0.jpg",e.embed="//www.youtube.com/embed/"+n,e}})}),define("collections/videos",["models/video","collections/pagedcollection"],function(e,n){var i=n.extend({model:e,urlPart:"/banda/videos/"});return new i}),define("text!template/videos.html",[],function(){return'\n<div class="container">\n  <header class="page-header">\n    <h1>Videos</h1>\n  </header>\n\n  <%_.forEach(data.models, function (video, i) {%> <%if (i % 3 === 0) {%>\n  <div class="row">\n    <%}%>\n\n    <div class="col-md-4">\n      <a id="<%=i%>" class="video thumbnail" href="#"> \n        <img src="/static/img/img_load.gif" class="img-responsive" alt="<%=video.get(\'nombre\')%>" data-echo="<%=video.get(\'thumbnail\')%>">\n      </a>\n    </div>\n\n    <%if (i % 3 === 2 || i === (data.models.length - 1)) {%>\n  </div>\n    <%}%>\n  <%})%> \n\n  <div id="modal-video" class="modal" tabindex="-1">\n  </div>\n  \n  \n  <%if (data.hasPrevious() || data.hasNext()) {%>\n  <footer class="row">\n    <div class="col-md-6">\n      <%if (data.hasPrevious()) {%>\n      <button id="previous-videos-page" class="btn btn-default pull-left">Videos M&aacute;s Nuevos</button>\n      <% } %>\n    </div>\n    <div class="col-md-6">\n      <%if (data.hasNext()) {%>\n      <button id="next-videos-page" class="btn btn-default pull-right">Videos M&aacute;s Viejos</button>\n      <% } %>\n    </div>\n  </footer>\n  <% } %>\n\n</div>'}),define("views/videosview",["underscore","echo","bootstrapmodal","views/collectionview","views/videoiframe","collections/videos","text!template/videos.html"],function(e,n,i,t,d,o,a){var l=t.extend({data:o,template:e.template(a),events:{"click .video":"openModal","click #next-videos-page":"nextPage","click #previous-videos-page":"previousPage"},afterRender:function(){n.init()},openModal:function(e){var n=new d;n.model=this.data.models[e.currentTarget.id],n.render(),e.preventDefault()}});return new l});